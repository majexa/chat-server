// Generated by CoffeeScript 1.11.1
(function() {
  var StatGrids;

  StatGrids = (function() {
    function StatGrids() {
      this.parent = document.getElementById('container');
      this.render();
    }

    StatGrids.prototype.render = function() {
      return new Request.JSON({
        url: '/admin/stat/data',
        onComplete: (function(data) {
          var grid, i, j, len, ref, results;
          console.log(data);
          ref = data.grids;
          results = [];
          for (i = j = 0, len = ref.length; j < len; i = ++j) {
            grid = ref[i];
            results.push(this.renderGrid(grid, i));
          }
          return results;
        }).bind(this)
      }).get();
    };

    StatGrids.prototype.colors = ['#FF6384', '#36A2EB', '#FFCE56', '#cc65fe'];

    StatGrids.prototype.renderGrid = function(data, i) {
      var canvas, div;
      div = document.createElement('div');
      canvas = document.createElement('canvas');
      this.parent.appendChild(div);
      div.appendChild(canvas);
      return new Chart(canvas, {
        type: 'line',
        data: {
          labels: data.lables,
          datasets: [
            {
              label: data.title,
              fill: false,
              lineTension: 0.1,
              backgroundColor: this.colors[i],
              borderColor: this.colors[i],
              borderCapStyle: 'butt',
              borderDash: [],
              borderDashOffset: 0.0,
              borderJoinStyle: 'miter',
              pointBorderColor: this.colors[i],
              pointBackgroundColor: "#fff",
              pointBorderWidth: 1,
              pointHoverRadius: 5,
              pointHoverBackgroundColor: this.colors[i],
              pointHoverBorderColor: this.colors[i],
              pointHoverBorderWidth: 2,
              pointRadius: 1,
              pointHitRadius: 10,
              data: data.data,
              spanGaps: false
            }
          ]
        }
      });
    };

    return StatGrids;

  })();

  window.StatGrids = StatGrids;

}).call(this);

//# sourceMappingURL=StatGrids.js.map
